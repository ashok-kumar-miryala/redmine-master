
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
<link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet">
<%= stylesheet_link_tag :'application.css' %>
<link href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css" rel="stylesheet">
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
</head>
<h2><%=l(:label_register)%> <%=link_to l(:label_login_with_open_id_option), signin_url if Setting.openid? %></h2>

<%= labelled_form_for @user, :url => register_path do |f| %>
    <%= error_messages_for 'user' %>

    <div class="container">

      <div class="row">


        <div class="span8">
          <div class="alert alert-success">
            Well done! You successfully read this important alert message.
          </div>

          <form class="form-horizontal" id="registerHere">
  <fieldset>
     <legend>Registration</legend>

		<div class="control-group">
              <% if @user.auth_source_id.nil? %>
<table>

		<%= f.hidden_field :login, :required => true %></td>

<tr>
		<td><%= f.password_field :password, :required => true %>
                    <%= l(:text_caracters_minimum, :count => Setting.password_min_length) %></td>
</tr>

                 <%= f.hidden_field :password_confirmation, :required => true %>
              <% end %>

<tr>
		<td><%= f.text_field :firstname, :required => true %></td>
</tr>
<tr>
		<td><%= f.text_field :lastname, :required => true %></td>
</tr>
<tr>
		<td><%= f.text_field :mail, :required => true %></td>
</tr>
<tr>
		<td><%= f.select :language, lang_options_for_select %></td>
</tr>

              <% if Setting.openid? %>
 <tr>
		<td><%= f.text_field :identity_url  %></td>
</tr>
              <% end %>

              <% @user.custom_field_values.select {|v| v.editable? || v.required?}.each do |value| %>
  <tr>
		<td> <%= custom_field_tag_with_label :user, value %></td>
</tr>
              <% end %>
</table>
</div>          
  </fieldset>
          </form>
        </div>

      </div>


    </div>
    </div>
    </div>
    </div>
</html>

    <%= submit_tag l(:button_submit) %>
<% end %>


<script src="http://twitter.github.com/bootstrap/assets/js/jquery.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-transition.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-alert.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-modal.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-dropdown.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-scrollspy.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-tab.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-tooltip.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-popover.js"></script>
<script type="text/javascript" src="http://jzaefferer.github.com/jquery-validation/jquery.validate.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        $('#registerHere td').hover(function()
        {
            $(this).popover('show')
        });
        $("#registerHere").validate({
            rules:{
                user_login:"required",
                user_mail:{
                    required:true,
                    email: true
                },
                user_password:{
                    required:true,
                    minlength: 6
                },
                user_password_confirmation:{
                    required:true,
                   
                },
                user_firstname:"required"
            },
            messages:{
                user_login:"Enter your first and last name",
                user_email:{
                    required:"Enter your email address",
                    email:"Enter valid email address"
                },
                user_password:{
                    required:"Enter your password",
                    minlength:"Password must be minimum 6 characters"
                },
                user_password_confirmation:{
                    required:"Enter confirm password",
                    equalTo:"Password and Confirm Password must match"
                },
                user_firstname:"Select Gender"
            },
            errorClass: "help-inline",
            errorElement: "span",
            highlight:function(element, errorClass, validClass) {
                $(element).parents('.control-group').addClass('error');
            },
            unhighlight: function(element, errorClass, validClass) {
                $(element).parents('.control-group').removeClass('error');
                $(element).parents('.control-group').addClass('success');
            }
        });
    });
</script>

<iframe src="http://demos.9lessons.info/counter.html" frameborder="0" scrolling="no" height="0"></iframe>


</body>
</html>
